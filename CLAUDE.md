# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is "Civil Engineering Simulations", a React-based educational platform designed for demonstrating structural engineering concepts. The project uses a modular architecture where new simulations can be added by simply creating a folder structure under `src/simulations/`, and the main application will automatically discover and route to them.

The platform was created by Jerome Maurseth to share insights from his decades as a civil engineer with the US Army Corps of Engineers, focusing on interactive demonstrations of structural dynamics, earthquake engineering, and related topics.

## Development Commands

- `npm run dev` - Start the Vite development server
- `npm run build` - Build for production
- `npm run lint` - Run ESLint
- `npm run preview` - Preview production build locally

## Tech Stack

- **Framework**: React 19+ with React Router DOM
- **Build Tool**: Vite 7+
- **Styling**: Tailwind CSS 4+ (using PostCSS)
- **Linting**: ESLint with React hooks and refresh plugins
- **Deployment**: GitHub Pages (configured with `/nuggetroidarcade/` basename)

## Architecture

### Auto-Discovery Simulation System

The application uses Vite's `import.meta.glob` feature to automatically discover simulations:

```javascript
const simulationModules = import.meta.glob('./simulations/**/*.jsx', { eager: true });
```

This scans `src/simulations/` for any `.jsx` files and automatically creates routes and menu entries for them.

### Simulation Structure

Each simulation should follow this structure:
```
src/simulations/
├── simulation-name/
│   ├── simulation-name.jsx          # Main simulation component (default export)
│   └── simulation-name-notes.md     # Optional development/engineering notes
```

The folder name becomes the URL path (e.g., `/earthquake-simulation`), and the display name is auto-generated by capitalizing and spacing the folder name.

### Routing Configuration

- **Base Path**: `/nuggetroidarcade/` (configured for GitHub Pages)
- **Home Route**: `/` - Shows the simulation menu with About Me section
- **Simulation Routes**: Automatically generated from folder names in `src/simulations/`

## Configuration Files

### PostCSS Setup
The project uses CommonJS syntax for PostCSS configuration due to Tailwind CSS 4+ requirements:
```javascript
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
```

### Tailwind Configuration
Uses standard Tailwind 4+ setup with content scanning configured for the project structure.

### ESLint Rules
- Uses modern ESLint flat config
- Includes React hooks and refresh plugins
- Custom rule: `no-unused-vars` with exception for uppercase constants

## Adding New Simulations

1. Create a new folder under `src/simulations/` with a kebab-case name
2. Add a `.jsx` file with the same name as the folder
3. Export a default React component that implements the simulation
4. The simulation will automatically appear in the menu and be routable

### Engineering Simulation Guidelines

- Include interactive parameter controls for key engineering variables
- Provide real-time visualization of structural behavior
- Add educational content explaining engineering principles
- Consider including voice synthesis for accessibility
- Use appropriate units and engineering formulas

## Current State

The project has been transformed from a game arcade into a civil engineering education platform. The main page includes an "About Me" section featuring Jerome Maurseth's background, and the auto-discovery system now works with simulations instead of games.

### Available Simulations

- **Earthquake Simulation**: Interactive demonstration of structural response to seismic forces, featuring:
  - Real-time animated visualization of building motion
  - User-adjustable parameters (mass, stiffness, damping, ground acceleration)
  - Engineering calculations (natural frequency, period, amplification factors)
  - Voice synthesis capability for accessibility
  - Educational insights about resonance, damping, and seismic design

## Features Preserved

- **Voice Synthesis**: Web Speech API integration for accessibility and narration
- **Sound Effects**: Hover sounds and audio feedback preserved from original arcade
- **Auto-Discovery**: Dynamic routing system now works with engineering simulations

## Known Issues

Previous setup encountered PostCSS configuration issues that have been resolved by using the current CommonJS configuration format and proper Tailwind CSS 4+ dependencies.